
[mcp_servers]
{% for item in mcp_transformed_servers_sorted | dict2items %}
[mcp_servers.{{ item.key }}]
{% set value = item.value %}
{% if value.type is defined %}type = "{{ value.type }}"
{% endif %}
{% if value.command is defined %}command = "{{ value.command }}"
{% endif %}
{% if value.args is defined and value.args | length > 0 %}
{% set ns = namespace(lines=[]) %}
{% for arg in value.args %}
{%   set ns.lines = ns.lines + ['  "' ~ arg ~ '"'] %}
{% endfor %}
args = [
{{ ns.lines | join(',\n') }}
]
{% endif %}
{% if value.env is defined and value.env | length > 0 %}[mcp_servers.{{ item.key }}.env]
{% for env_key, env_value in value.env.items() %}{{ env_key }} = "{{ env_value }}"
{% endfor %}
{% endif %}
{% if value.timeout is defined %}timeout = {{ value.timeout }}
{% endif %}

{% endfor %}
